webpackJsonp([1],[function(e,t,n){e.exports=n(152)},,,,,,function(e,t){"use strict";t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,n){"use strict";var r=n(84)["default"];t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t.__esModule=!0},,,function(e,t,n){"use strict";var r=n(159)["default"];t["default"]=function(e,t,n){for(var o=!0;o;){var a=e,i=t,s=n;u=l=c=void 0,o=!1,null===a&&(a=Function.prototype);var u=r(a,i);if(void 0!==u){if("value"in u)return u.value;var c=u.get;return void 0===c?void 0:c.call(s)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=i,n=s,o=!0}},t.__esModule=!0},function(e,t,n){"use strict";var r=n(158)["default"],o=n(161)["default"];t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},t.__esModule=!0},,,,function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){e.exports=n(210)},,,function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t){var n=e.exports={};"number"==typeof __e&&(__e=n)},,function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var r=n(185)("wks"),o=n(55).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||n(189))("Symbol."+e))}},,,,,,,,function(e,t){e.exports={}},,,,,function(e,t,n){var r=n(55),o=n(20),a="prototype",i=function(e,t){return function(){return e.apply(t,arguments)}},s=function(e,t,n){var u,c,l,p,d=e&s.G,f=e&s.P,h=d?r:e&s.S?r[t]:(r[t]||{})[a],v=d?o:o[t]||(o[t]={});d&&(n=t);for(u in n)c=!(e&s.F)&&h&&u in h,c&&u in v||(l=c?h[u]:n[u],d&&"function"!=typeof h[u]?p=n[u]:e&s.B&&c?p=i(l,r):e&s.W&&h[u]==l?!function(e){p=function(t){return this instanceof e?new e(t):e(t)},p[a]=e[a]}(l):p=f&&"function"==typeof l?i(Function.call,l):l,v[u]=p,f&&((v[a]||(v[a]={}))[u]=l))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},,,function(e,t,n){e.exports={"default":n(165),__esModule:!0}},function(e,t,n){var r=n(22),o=n(94);e.exports=n(187)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},,,,,,,,,,,function(e,t,n){"use strict";function r(){for(var e=arguments.length<=0||void 0===arguments[0]?50:arguments[0],t=e,n=44100,r=new Float32Array(n),o=Math.PI/180,a=0,i=void 0;n>a;++a)i=2*a/n-1,r[a]=(3+t)*i*20*o/(Math.PI+t*Math.abs(i));return r}function o(){for(var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=h.sampleRate,n=t*Math.max(e/20,1),r=100-e,o=h.createBuffer(2,n,t),a=o.getChannelData(0),i=o.getChannelData(1),s=0;n>s;s++)a[s]=(2*Math.random()-1)*Math.pow(1-s/n,r),i[s]=(2*Math.random()-1)*Math.pow(1-s/n,r);return o}function a(e){var t=h.createBiquadFilter();return t.connect(e),t.frequency.value=2048,t}function i(e){for(var t=new Float32Array(65536),n=32768*e,r=0;32768>r;r++){var o=n>r?0:1;t[32768-r]=-o,t[32768+r]=o}return t[0]=t[1],t}function s(e){var t=h.createGain(),n=h.createWaveShaper(),r=h.createBiquadFilter();r.type="lowpass",r.frequency.value=10;for(var o=new Float32Array(65536),a=-32768;32768>a;a++)o[a+32768]=(a>0?a:-a)/32768;n.curve=o,n.connect(r);var s=h.createWaveShaper();s.curve=i(.01),r.connect(s);var u=h.createGain();return u.gain.value=0,s.connect(u.gain),u.connect(e),t.connect(n),t.connect(u),t}function u(e){var t=h.createChannelSplitter(2),n=h.createChannelMerger(2);return e.connect(t),t.connect(n,0,0),t.connect(n,0,1),n}var c=n(7)["default"],l=n(6)["default"],p=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0});var d=n(151),f=p(d);navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,window.AudioContext=AudioContext||webkitAudioContext;var h=new AudioContext,v=134,m=55,g=7040,y=28,E=function(){function e(t){l(this,e),this.poly=1,this.voices={},this.voiceSettings={},this.output=h.createGain(),this.input=h.createGain(),this.MSTR=h.createGain(),this.MSTR.connect(h.destination),this.analyser=h.createAnalyser(),this.analyser.smoothingTimeConstant=.95,this.analysisData=new Uint8Array(this.analyser.frequencyBinCount),this.MSTR.connect(this.analyser),this.FLT=h.createBiquadFilter(),this.FLT.type="highpass",this.FLT.frequency.value=0,this.FLT.Q.value=1,this.DIST=h.createWaveShaper(),this.DIST.curve=r(0),this.DIST.setCurve=function(e){this.DIST.curve=e?r(e):null,this.output.gain.value=e?2.5:1}.bind(this),this.RVRB=h.createConvolver(),this.RVRB.buffer=o(1),this.RVRB.mixReverb=function(e){this.RVRBD.gain.value=1-e,this.RVRBW.gain.value=e}.bind(this),this.RVRB.setReverb=function(e){this.RVRB.buffer=o(e)}.bind(this),this.DIST.connect(this.RVRB),this.RVRBD=h.createGain(),this.RVRBW=h.createGain(),this.LFO=h.createOscillator(),this.LFOAMPGAIN=h.createGain(),this.LFOFLTGAIN=h.createGain(),this.LFO.frequency.value=2,this.LFOAMPGAIN.gain.value=.2,this.LFOFLTGAIN.gain.value=.2,this.VCDR={enableVocoder:function(e){e&&this.initVocoder(),this.VCDR["switch"].gain.value=e?0:1}.bind(this),gain:1,quality:6,modulator:h.createGain(),carrier:h.createGain(),output:h.createGain(),"switch":h.createGain(),filter:h.createGain()},this.VCDR.filter.gain.value=1,this.LFO.connect(this.LFOAMPGAIN),this.LFO.connect(this.LFOFLTGAIN),this.LFOAMPGAIN.connect(this.output.gain),this.LFOFLTGAIN.connect(this.FLT.frequency),this.input.connect(this.FLT),this.FLT.connect(this.DIST),this.DIST.connect(this.RVRBD),this.RVRB.connect(this.RVRBW),this.RVRBD.connect(this.output),this.RVRBW.connect(this.output),this.output.connect(this.VCDR.carrier),this.VCDR.carrier.connect(this.VCDR["switch"]),this.VCDR["switch"].connect(this.VCDR.output),this.VCDR.output.connect(this.MSTR),this.output.gain.value=2,this.LFO.start(h.currentTime)}return c(e,[{key:"noteOn",value:function(e,t){this.voices[e]||(this.voices[e]=new f["default"](h,this.patch.voice,this.input),this.voices[e].start(this.noteToFreq(e)))}},{key:"noteOff",value:function(e){this.voices[e].stop(),delete this.voices[e]}},{key:"noteToFreq",value:function(e){return 440*Math.pow(2,(e-69)/12)}},{key:"velocityToGain",value:function(e){}},{key:"setPatch",value:function(e){this.patch=e,this.applyPatch(e.global);for(var t in this.voices)this.voices[t].applyPatch(e.voice)}},{key:"applyPatch",value:function(e){for(var t in e)for(var n in e[t]){for(var r=this[t],o=n.split("."),a=o.length,i=0;a-1>i;i++){var s=o[i];r[s]||(r[s]={}),r=r[s]}"function"==typeof r[o[a-1]]?r[o[a-1]](e[t][n]):r[o[a-1]]=e[t][n]}}},{key:"analyse",value:function(){return this.analyser.getByteTimeDomainData(this.analysisData),this.analysisData}},{key:"zeroCrossing",value:function(){for(var e=0,t=this.analyser.frequencyBinCount,n=-1,r=void 0;t>e&&this.analysisData[e]>128;)e++;if(e>=t)return 0;for(;t>e&&(r=this.analysisData[e])<v;)r>=128?-1===n&&(n=e):n=-1,e++;return-1===n&&(n=e),e===t?0:0===n?0:n}},{key:"initVocoder",value:function(){var e=this;navigator.getUserMedia&&(this._vocoding||navigator.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},function(t){return e.gotVocoderInput(t)},function(e){return console.warn(e)}))}},{key:"gotVocoderInput",value:function(e){this._vocoding=!0;var t=h.createGain();t.gain.value=1,t.connect(this.VCDR.output),this.inputSource=h.createMediaStreamSource(e);var n=h.createGain();n.gain.value=this.VCDR.gain,n.connect(this.VCDR.modulator);var r=u(this.inputSource);r.connect(a(s(n)));for(var o=Math.pow(2,1200*Math.log(g/m)/Math.LN2/y/1200),i=[],c=m,l=0;y>l;l++)i[l]={frequency:c},c*=o;for(var p=new Float32Array(65536),d=65536,f=d/2,l=0;f>l;++l){var v=l/f;p[f+l]=v,p[f-l-1]=v}var E=h.createBiquadFilter();E.type="highpass",E.frequency.value=i[y-1].frequency,E.Q.value=1,n.connect(E),E.connect(this.VCDR.filter),this.VCDR.filter.connect(t);for(var _=new Float32Array(65536),l=-32768;32768>l;l++)_[l+32768]=(l>0?l:-l)/32768;for(var b=[],x=[],N=[],C=[],D=[],O=[],w=[],T=[],l=0;y>l;l++){var S=h.createBiquadFilter();S.type="bandpass",S.frequency.value=i[l].frequency,S.Q.value=this.VCDR.quality,n.connect(S),b.push(S);var R=h.createBiquadFilter();R.type="bandpass",R.frequency.value=i[l].frequency,R.Q.value=this.VCDR.quality,S.chainedFilter=R,S.connect(R);var A=h.createGain();A.gain.value=6,R.connect(A),x.push(A);var P=h.createOscillator();P.frequency.value=i[l].frequency,P.start(0);var M=h.createGain();A.connect(M),M.gain.value=0,P.connect(M.gain);var k=h.createGain();k.gain.value=2,M.connect(k),N.push(k);var I=h.createWaveShaper();I.curve=_,k.connect(I);var V=h.createBiquadFilter();V.type="lowpass",V.frequency.value=5,V.Q.value=1,C.push(V),I.connect(V);var L=h.createGain();L.gain.value=1,V.connect(L),D.push(L);var F=h.createWaveShaper();F.curve=p,L.connect(F);var U=h.createBiquadFilter();U.type="bandpass",U.frequency.value=i[l].frequency,U.Q.value=this.VCDR.quality,O.push(U),this.VCDR.carrier.connect(U);var j=h.createBiquadFilter();j.type="bandpass",j.frequency.value=i[l].frequency,j.Q.value=this.VCDR.quality,U.chainedFilter=j,U.connect(j);var B=h.createGain();B.gain.value=10,j.connect(B),w.push(B);var W=h.createGain();T.push(W),B.connect(W),W.gain.value=0,F.connect(W.gain),W.connect(t)}}}]),e}();t["default"]=new E,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(39)["default"],o=n(156)["default"];t["default"]=function(){function e(e,t){var n=[],o=!0,a=!1,i=void 0;try{for(var s,u=r(e);!(o=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(c){a=!0,i=c}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(o(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.__esModule=!0},function(e,t,n){var r=n(91);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n="undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.exports=n,"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(54);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(186)(!0);n(92)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(199);var c=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"handleClick",value:function(e){e.which>1||e.button>1||(e.stopPropagation(),e.preventDefault(),this.props.handler(this.props.value))}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:"control-button "+(this.props.on?"pressed":""),draggable:"false","data-icon":this.props.label,onClick:function(t){return e.handleClick(t)}})}}]),t}(r);t["default"]=c,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t,n){(function(r,o,a){"use strict";var i=n(10)["default"],s=n(11)["default"],u=n(7)["default"],c=n(6)["default"],l=n(83)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(201);var p=document.createElement("IMG");p.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";document.body.appendChild(p);var d=25,f=function(e){function t(){c(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return s(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.values?(this.value=this.props.values.indexOf(this.props.getValue()),this.min=0,this.max=this.props.values.length-1,this.jump=1,this.ticks=this.props.values.length):(this.value=this.props.getValue(),this.min=this.props.min||0,this.max=this.props.max||127,this.jump=this.props.jump,this.ticks=this.props.ticks),this.range=this.max-this.min,this.tickElms=l({length:this.ticks},function(e,t){return t}).map(function(e){var t=e/this.ticks*360,n={transform:"rotate("+t+"deg)",WebkitTransform:"rotate("+t+"deg)"};return o.createElement("div",{className:"tick",key:""+Math.random(),style:n})}.bind(this)),this.throttledDrag=a.throttle(this.handleDrag,25)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.getValue()!==(e.values?e.values[this.value]:this.value)}},{key:"componentWillUpdate",value:function(e,t){this.value=e.values?e.values.indexOf(this.props.getValue()):this.props.getValue()}},{key:"handleWheel",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.deltaY,n=Math.min(Math.max(this.min,this.value+(this.jump*(t/Math.abs(t))||t)),this.max);this.props.values&&(n=this.props.values[n]),this.props.handler(this.props.target,this.props.control,n)}},{key:"handleDrag",value:function(e){if(this.drag&&null!==(e.clientY||e.pageY)){var t=(Math.min(Math.max((this.start-(e.clientY||e.pageY))/d,-1),1)+1)/2,n=Math.min(Math.max(this.min,t*this.range),this.max);n=this.jump?Math.floor(n/this.jump)*this.jump:n,this.props.values&&(n=this.props.values[n]),this.props.handler(this.props.target,this.props.control,n)}}},{key:"handleDragStart",value:function(e){this.drag=!0,this.start=e.clientY||e.pageY,e.dataTransfer&&e.dataTransfer.setDragImage(p,0,0)}},{key:"handleDragEnd",value:function(e){this.drag=!1,e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this,t=(this.value-this.min)/(this.range+(this.jump||0))*360,n={transform:"rotate("+t+"deg)",WebkitTransform:"rotate("+t+"deg)"};return o.createElement("div",{className:"control-knob",draggable:"true",onWheel:function(t){return e.handleWheel(t)},onDragStart:function(t){return e.handleDragStart(t)},onDragEnd:function(t){return e.handleDragEnd(t)},onDrag:function(t){return e.throttledDrag(t)}},o.createElement("div",{className:"hole"}),o.createElement("div",{className:"cogs",style:n}),o.createElement("div",{className:"metal"}),o.createElement("div",{className:"pointer",style:n}),this.tickElms)}}]),t}(r);t["default"]=f,e.exports=t["default"]}).call(t,n(16),n(15),n(78))},function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(202);var c=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.value=this.props.getValue()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.getValue()!==this.value}},{key:"componentWillUpdate",value:function(e,t){this.value=this.props.getValue()}},{key:"handleClick",value:function(e){e.which>1||e.button>1||(e.stopPropagation(),e.preventDefault(),this.props.handler(this.props.target,this.props.control,this.props.values[0===this.props.values.indexOf(this.value)?1:0]))}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:"control-switch "+(1===this.props.values.indexOf(this.value)?"switched":""),"data-on":this.props.on,"data-off":this.props.off,draggable:"false",onClick:function(t){return e.handleClick(t)}})}}]),t}(r);t["default"]=c,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"],c=n(52)["default"],l=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(206);var p=n(102),d=l(p),f=n(51),h=l(f),v=n(155),m=l(v),g=new Image;g.source="public/scanlines.png";var y=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.desc!==e.desc&&this.updateLabel(e.desc),!1}},{key:"componentDidMount",value:function(){this.startVisualizer(d["default"].findDOMNode(this).firstChild.getContext("2d"))}},{key:"updateLabel",value:function(e){var t=this;this.label=e,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.label=void 0},1e3)}},{key:"startVisualizer",value:function(e){function t(){var n=h["default"].analyse(),r=h["default"].zeroCrossing(),s=e.canvas.height/256;e.clearRect(0,0,e.canvas.width,e.canvas.height);var u=e.createLinearGradient(0,0,e.canvas.width,e.canvas.height);u.addColorStop(0,"rgba(0,0,0,0)"),u.addColorStop(.14,"hsl(200,100%,50%)"),u.addColorStop(.15,"hsl(200,100%,50%)"),u.addColorStop(.84,"hsl(200,100%,50%)"),u.addColorStop(.85,"hsl(200,100%,50%)"),u.addColorStop(1,"rgba(0,0,0,0)"),e.strokeStyle=u,e.lineWidth=1.5,e.shadowBlur=5,e.shadowColor="hsl(200,100%,50%)",e.beginPath(),e.moveTo(0,(256-n[r])*s);for(var c=r,l=0;l<e.canvas.width&&c<n.length;c++,l++)e.lineTo(l,(256-n[c])*s);e.stroke(),i.label&&(e.strokeText(i.label,e.canvas.width/2,40),e.fillText(i.label,e.canvas.width/2,40)),i.updateTexture(e,o,a),requestAnimationFrame(t)}var n=this.setTexture(e),r=c(n,2),o=r[0],a=r[1],i=this;e.font="20px monospace",e.textAlign="center",requestAnimationFrame(t)}},{key:"setTexture",value:function(e){var t=m["default"].canvas(),n=t.texture(e.canvas);return e.canvas.parentNode.insertBefore(t,e.canvas),e.canvas.style.display="none",t.className=e.canvas.className,t.id=e.canvas.id,e.canvas.id="old_"+e.canvas.id,[t,n]}},{key:"updateTexture",value:function(e,t,n){e.drawImage(g,0,0,e.canvas.width,e.canvas.height),n.loadContentsOf(e.canvas),t.draw(n).bulgePinch(e.canvas.width/2,e.canvas.height/2,.75*e.canvas.width,.12).vignette(.25,.75).update()}},{key:"render",value:function(){return o.createElement("div",{className:"flicker scanlines"},o.createElement("canvas",{className:"synth-visualizer"}))}}]),t}(r);t["default"]=y,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t,n){e.exports={"default":n(164),__esModule:!0}},function(e,t,n){e.exports={"default":n(169),__esModule:!0}},function(e,t,n){var r=n(86),o=n(23)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(173);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(86);e.exports=0 in Object("z")?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},function(e,t,n){"use strict";var r=n(182),o=n(36),a=n(183),i=n(40),s=n(89),u=n(23)("iterator"),c=n(31),l="@@iterator",p="keys",d="values",f=function(){return this};e.exports=function(e,t,h,v,m,g,y){n(179)(h,t,v);var E,_,b=function(e){switch(e){case p:return function(){return new h(this,e)};case d:return function(){return new h(this,e)}}return function(){return new h(this,e)}},x=t+" Iterator",N=e.prototype,C=N[u]||N[l]||m&&N[m],D=C||b(m);if(C){var O=n(22).getProto(D.call(new e));n(95)(O,x,!0),!r&&s(N,l)&&i(O,u,f)}if((!r||y)&&i(N,u,D),c[t]=D,c[x]=f,m)if(E={keys:g?D:b(p),values:m==d?D:b(d),entries:m!=d?D:b("entries")},y)for(_ in E)_ in N||a(N,_,E[_]);else o(o.P+o.F*n(177),t,E)}},function(e,t,n){e.exports=function(e,t){var r=n(36),o=(n(20).Object||{})[e]||Object[e],a={};a[e]=t(o),r(r.S+r.F*n(88)(function(){o(1)}),"Object",a)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(89),o=n(40),a=n(23)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&o(e,a,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(90),o=n(54);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(85),o=n(23)("iterator"),a=n(31);e.exports=n(20).getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||a[r(e)]:void 0}},function(e,t,n){n(194);var r=n(31);r.NodeList=r.HTMLCollection=r.Array},,function(e,t){e.exports={global:{FLT:{type:"highpass","frequency.value":0,"Q.value":1},DIST:{enableCurve:!1,setCurve:0},RVRB:{mixReverb:0,setReverb:1},LFO:{"frequency.value":2},LFOAMPGAIN:{"gain.value":0},LFOFLTGAIN:{"gain.value":0},VCDR:{enableVocoder:!1,"filter.gain.value":1}},voice:{OSC1:{type:"square","detune.value":0},AMP1:{"gain.value":1},OSC2:{type:"sine","detune.value":0},AMP2:{"gain.value":1},OSC3:{type:"sawtooth","detune.value":0},AMP3:{"gain.value":1},ENV:{attack:0,decay:1,sustain:0,release:0}}}},function(e,t,n){"use strict";e.exports=n(42)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(10)["default"],o=n(11)["default"],a=n(6)["default"],i=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=n(26),u=n(143),c=i(u),l=n(154),p=i(l),d=n(142),f=i(d),h=n(153),v=i(h),m=function(e){function t(){a(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.createActions("synth",c["default"]),this.createActions("keyboard",f["default"]),this.createStore("synth",p["default"],this),this.createStore("keyboard",v["default"],this)}return o(t,e),t}(s.Flummox);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(10)["default"],o=n(11)["default"],a=n(7)["default"],i=n(6)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=n(26),u=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"KEY_UP",value:function(e){return e}},{key:"KEY_DOWN",value:function(e){return e}},{key:"PITCH_CHANGE",value:function(e){return e}},{key:"SET_ARP_MODE",value:function(e,t,n){return n}},{key:"SET_ARP_RATE",value:function(e,t,n){return n}}]),t}(s.Actions);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(10)["default"],o=n(11)["default"],a=n(7)["default"],i=n(6)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=n(26),u=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"NOTE_ON",value:function(e,t){return[e,t]}},{key:"NOTE_OFF",value:function(e){return e}},{key:"CONTROL_CHANGE",value:function(e,t,n){return[e,t,n]}},{key:"SET_PATCH",value:function(e){return e}},{key:"SAVE_PATCH",value:function(){return!0}},{key:"DELETE_PATCH",value:function(){return!0}},{key:"SET_DESC",value:function(e){return e}}]),t}(s.Actions);t["default"]=u,e.exports=t["default"]},function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(203);var c=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(e,t){}},{key:"handleClick",value:function(e){this.setState({hidden:!0})}},{key:"handleProfile",value:function(e){window.open("http://www.github.com/barakchamo","_blank"),e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this,t={display:this.state.hidden?"none":"block"};return o.createElement("div",{className:"help modal fade "+(this.state.hidden?"":"in"),style:t,draggable:"false",onClick:function(t){return e.handleClick(t)}},o.createElement("div",{className:"modal-dialog",role:"document"},o.createElement("div",{className:"modal-content"},o.createElement("div",{className:"modal-header"},o.createElement("span",{type:"button",className:"close control-label glow","data-dismiss":"modal","aria-label":"Close",onclick:function(t){return e.handleClick(t)}},o.createElement("h3",{"aria-hidden":"true"},"×"),o.createElement("span",{className:"sr-only"},"Close")),o.createElement("h1",{className:"modal-title text-center control-label glow"},"RC-455"),o.createElement("p",{className:"modal-title text-center control-label glow"},"Built by ",o.createElement("a",{onclick:function(e){return handleProfile(e)},href:"http://www.github.com/barakchamo"},"Barak Chamo"))),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"RC-455 is a WebAudio synthesizer, here's how what you get: "),o.createElement("ul",null,o.createElement("li",null,"3 oscillators with waveform, detune and amp control"),o.createElement("li",null,"Low-pass and high-pass filter"),o.createElement("li",null,"Distortion and reverb units"),o.createElement("li",null,"LFO and envelope controlled modulation"),o.createElement("li",null,"Arpeggiator and pitch control"),o.createElement("li",null,"Vocoder(!)")),o.createElement("p",null,"You can play the synth with your mouse, keyboard or hook up any MIDI controller if your browser supports the WebMIDI API."),o.createElement("p",null,"To save presets press the ✦ button, press × to delete them."),o.createElement("p",null,"Have fun!")))))}}]),t}(r);t["default"]=c,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"],c=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(205);var l=n(144),p=c(l),d=n(148),f=c(d),h=n(146),v=c(h),m=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.createElement("div",null,o.createElement(p["default"],null),o.createElement("div",{id:"synth"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement(v["default"],{connectToStores:["synth"]})),o.createElement(f["default"],{connectToStores:["keyboard"]}))))}}]),t}(r);t["default"]=m,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"],c=n(163)["default"],l=n(39)["default"],p=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(200);var d=n(216),f=p(d),h=n(101),v=p(h),m=n(80),g=p(m),y=n(81),E=p(y),_=n(79),b=p(_),x=n(82),N=p(x),C={Knob:g["default"],Switch:E["default"]},D=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.state.patch;this.controls={left:[],right:[],center:[],extra:[]};var t=this.flux.getActions("synth").CONTROL_CHANGE,n={left:"col-xs-1 control-group",right:"col-xs-1 control-group",center:"col-xs-3",extra:"col-xs-6"};for(var r in f["default"]){var a=!0,i=!1,s=void 0;try{for(var u,p=l(f["default"][r]);!(a=(u=p.next()).done);a=!0){var d=u.value,h=[],m=!0,g=!1,y=void 0;try{for(var E,_=l(d);!(m=(E=_.next()).done);m=!0){var b=E.value;b.label&&h.push(o.createElement("div",{className:"control-label",key:b.label},b.label));for(var x in b.controls)for(var N in b.controls[x]){var D=C[b.controls[x][N].type],O=b.controls[x][N];h.push(o.createElement(D,c({flux:this.flux,handler:t,key:x+N+b.label,target:x,control:N,getValue:this.getValue(v["default"].global[x]?"global":"voice",x,N).bind(this),value:e[v["default"].global[x]?"global":"voice"][x][N]},O))),O.label&&h.push(o.createElement("div",{className:"control-label mini",key:x+N},O.label))}}}catch(w){g=!0,y=w}finally{try{!m&&_["return"]&&_["return"]()}finally{if(g)throw y}}this.controls[r].push(o.createElement("div",{className:""+n[r],key:r+this.controls[r].length},o.createElement("div",{className:"control-group-inner"},h)))}}catch(w){i=!0,s=w}finally{try{!a&&p["return"]&&p["return"]()}finally{if(i)throw s}}}}},{key:"getValue",value:function(e,t,n){return function(){return this.state.patch[e][t][n]}}},{key:"render",value:function(){var e=this.flux.getActions("synth");return o.createElement("div",{className:"col-xs-12"},o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row synth-control"},this.controls.left,o.createElement("div",{className:"col-xs-4 controls-center"},o.createElement("h1",{className:"control-label glow text-center"},"RC-455",o.createElement("small",null,o.createElement("small",null,o.createElement("small",null,"f.1")))),o.createElement("div",{className:"control-group control-display"},o.createElement(N["default"],{desc:this.state.desc})),o.createElement("div",{className:"synth-control control-group"},o.createElement("div",{className:"row control-group-inner"},this.controls.center))),this.controls.right,o.createElement("div",{className:"col-xs-2"},o.createElement("div",{className:"controls-global"},o.createElement("div",{className:"control-group"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-xs-12 control-label presets text-center"},"Presets"),o.createElement("div",{className:"col-xs-12 text-center container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-xs-6 text-center"},o.createElement(b["default"],{label:"<",handler:e.SET_PATCH,value:-1}),o.createElement("div",{className:"control-label mini text-center presets"},"prev.")),o.createElement("div",{className:"col-xs-6 text-center"},o.createElement(b["default"],{label:">",handler:e.SET_PATCH,value:1}),o.createElement("div",{className:"control-label mini text-center presets"},"next")))),o.createElement("div",{className:"col-xs-12 text-center container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-xs-6 text-center"},o.createElement(b["default"],{label:"✦",handler:e.SAVE_PATCH}),o.createElement("div",{className:"control-label mini text-center"},"save")),o.createElement("div",{className:"col-xs-6 text-center"},o.createElement(b["default"],{label:"×",handler:e.DELETE_PATCH}),o.createElement("div",{className:"control-label mini text-center"},"delete"))))))),o.createElement("div",{className:"controls-extra control-group"},o.createElement("div",{className:"row control-group-inner"},this.controls.extra))))))}}]),t}(r);t["default"]=D,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=document.createElement("IMG");c.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];document.body.appendChild(c);var p=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.elm=c,this.keyboardActions=this.flux.getActions("keyboard")}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.pressed!==e.pressed}},{key:"handleOn",value:function(e){e.which>1||e.button>1||this.keyboardActions.KEY_DOWN(this.props.tone,127)}},{key:"handleOff",value:function(e){this.keyboardActions.KEY_UP(this.props.tone)}},{key:"hideGhost",value:function(e){
e.dataTransfer&&e.dataTransfer.setDragImage(this.elm,0,0)}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:"key "+(this.props.pressed?"pressed ":"")+this.props.color,draggable:"true",onDragStart:function(t){return e.hideGhost(t)},onMouseDown:function(t){return e.handleOn(t)},onMouseUp:function(t){return e.handleOff(t)},onDragEnter:function(t){return e.handleOn(t)},onDragExit:function(t){return e.handleOff(t)},onDragLeave:function(t){return e.handleOff(t)}},o.createElement("span",{className:"label"},l[this.props.tone%l.length]),o.createElement("span",{className:"ctrl"},this.props.ctrl))}}]),t}(r);t["default"]=p,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t,n){(function(r,o){"use strict";var a=n(10)["default"],i=n(11)["default"],s=n(7)["default"],u=n(6)["default"],c=n(83)["default"],l=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0}),n(204);var p=n(147),d=l(p),f=n(80),h=l(f),v=n(81),m=(l(v),n(79)),g=l(m),y=["A","W","S","E","D","F","T","G","Y","H","U","J","K","O","L","P",";","'","}","\\"],E=["w","b","w","b","w","w","b","w","b","w","b","w"],_=48,b=function(e){function t(){u(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=c({length:25},function(t,n){return o.createElement(d["default"],{key:n,tone:n,ctrl:y[n]||"",color:E[n%12],pressed:n+_+12*e.state.transposition in e.state.keys})}),n=this.flux.getActions("keyboard");return o.createElement(r,null,o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-xs-2"},o.createElement("div",{className:"control-group arp"},o.createElement("div",{className:"row text-center"},o.createElement("div",{className:"col-xs-12 control-label text-center"},"Arpeggiator"),o.createElement("div",{className:"col-xs-6"},o.createElement(h["default"],{handler:n.SET_ARP_MODE,values:["OFF",1],getValue:function(){return e.state.arp.mode},ticks:5}),o.createElement("div",{className:"control-label mini text-center"},"mode")),o.createElement("div",{className:"col-xs-6"},o.createElement(h["default"],{handler:n.SET_ARP_RATE,min:150,max:500,jump:25,ticks:5,getValue:function(){return e.state.arp.rate}}),o.createElement("div",{className:"control-label mini text-center"},"rate"))),o.createElement("div",{className:"row text-center"},o.createElement("div",{className:"col-xs-12 control-label text-center"},"- Octave +"),o.createElement("div",{className:"col-xs-12"},o.createElement(g["default"],{label:"−",handler:n.PITCH_CHANGE,on:this.state.transposition<0,value:-1}),o.createElement(g["default"],{label:"+",handler:n.PITCH_CHANGE,on:this.state.transposition>0,value:1}))))),o.createElement("div",{className:"keyboard col-xs-10"},o.createElement("div",{className:"keyboard-container"},t)))))}}]),t}(r);t["default"]=b,e.exports=t["default"]}).call(t,n(16),n(15))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Math.round(100*e)+"%"},r=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return e.toFixed(t)};t["default"]={LFO:{"frequency.value":function(e){return"LFO rate: "+r(e,2)}},LFOAMPGAIN:{"gain.value":function(e){return"LFO AMP amount: "+n(e)}},LFOFLTGAIN:{"gain.value":function(e){return"LFO FILTER amount: "+r(e)+"Hz"}},OSC1:{type:function(e){return"OSC1 type: "+e},"detune.value":function(e){return"OSC1 detune: "+r(e)+" cents"}},AMP1:{"gain.value":function(e){return"OSC1 AMP: "+n(e)}},OSC2:{type:function(e){return"OSC2 type: "+e},"detune.value":function(e){return"OSC2 detune: "+r(e)+" cents"}},AMP2:{"gain.value":function(e){return"OSC2 AMP: "+n(e)}},OSC3:{type:function(e){return"OSC3 type: "+e},"detune.value":function(e){return"OSC3 detune: "+r(e)+" cents"}},AMP3:{"gain.value":function(e){return"OSC3 AMP: "+n(e)}},ENV:{attack:function(e){return"ENV attack: "+r(e,2)+"s"},sustain:function(e){return"ENV sustain: "+r(e,2)+"s"},decay:function(e){return"ENV decay: "+n(e)},release:function(e){return"ENV release: "+r(e,2)+"s"}},FLT:{"frequency.value":function(e){return"FLT cutoff: "+r(e)+"Hz"},"Q.value":function(e){return"FLT resonance: "+e+"db"},type:function(e){return"FLT mode: "+e}},DIST:{enableCurve:function(e){return"DISTORTION: "+(e?"ON":"OFF")},setCurve:function(e){return"DISTORTION amount: "+e}},RVRB:{setReverb:function(e){return"REVERB response: "+e},mixReverb:function(e){return"REVERB mix: "+n(e)}},VCDR:{enableVocoder:function(e){return"VOCODER: "+(e?"ON":"OFF")},"filter.gain.value":function(e){return"Fricative mix: "+n(e)}}},e.exports=t["default"]},function(e,t,n){"use strict";var r=n(7)["default"],o=n(6)["default"],a=n(52)["default"],i=n(39)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e),this.inputs={},this.handlers={},this.detectMidi()}return r(e,[{key:"detectMidi",value:function(){var e=this;try{navigator.requestMIDIAccess().then(function(t){return e.handleMidi(t)})["catch"](function(e){return console.log(e)})}catch(t){console.log("No MIDI support...")}}},{key:"handleMidi",value:function(e){var t=this,n=!0,r=!1,o=void 0;try{for(var a,s=i(e.inputs.values());!(n=(a=s.next()).done);n=!0){var u=a.value;this.initInput(u)}}catch(c){r=!0,o=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}setTimeout(function(){return t.detectMidi()},3e3)}},{key:"initInput",value:function(e){var t=this;this.inputs[e.id]||(this.inputs[e.id]=e,e.open().then(function(e){return e.onmidimessage=t.onMidi.bind(t)})["catch"](function(e){return console.log(e)}))}},{key:"onMidi",value:function(e){var t=a(e.data,3),n=t[0],r=t[1],o=t[2];return n>=128&&143>=n?this.noteOff(r):n>=144&&159>=n?this.noteOn(r,o):void 0}},{key:"noteOn",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,s=i(this.handlers.ON);!(n=(a=s.next()).done);n=!0){var u=a.value;u(e,t)}}catch(c){r=!0,o=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}}},{key:"noteOff",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i(this.handlers.OFF);!(t=(o=a.next()).done);t=!0){var s=o.value;s(e)}}catch(u){n=!0,r=u}finally{try{!t&&a["return"]&&a["return"]()}finally{if(n)throw r}}}},{key:"on",value:function(e,t){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)}}]),e}();t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(7)["default"],o=n(6)["default"];Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,n,r){o(this,e),this.ctx=t,this.patch=n,this.OSC1=t.createOscillator(),this.OSC1.type="square",this.OSC1.detune.value=0,this.OSC2=t.createOscillator(),this.OSC2.type="square",this.OSC2.detune.value=0,this.OSC3=t.createOscillator(),this.OSC3.type="square",this.OSC3.detune.value=0,this.AMP1=t.createGain(),this.AMP1.gain.value=1,this.AMP2=t.createGain(),this.AMP2.gain.value=1,this.AMP3=t.createGain(),this.AMP3.gain.value=1,this.ENV={attack:0,decay:0,sustain:0,release:0},this.vca=t.createGain(),this.vca.gain.value=1/3,this.OSC1.connect(this.AMP1),this.OSC2.connect(this.AMP2),this.OSC3.connect(this.AMP3),this.AMP1.connect(this.vca),this.AMP2.connect(this.vca),this.AMP3.connect(this.vca),this.vca.connect(r),this.applyPatch(this.patch)}return r(e,[{key:"start",value:function(e,t){this.OSC1.frequency.value=e,this.OSC2.frequency.value=e,this.OSC3.frequency.value=e,this.OSC1.start(this.ctx.currentTime),this.OSC2.start(this.ctx.currentTime),this.OSC3.start(this.ctx.currentTime),this.vca.gain.setValueAtTime(0,this.ctx.currentTime),this.vca.gain.linearRampToValueAtTime(1/3,this.ctx.currentTime+this.ENV.attack),this.vca.gain.linearRampToValueAtTime(1/3*this.ENV.decay,this.ctx.currentTime+this.ENV.attack+this.ENV.sustain)}},{key:"stop",value:function(){this.vca.gain.cancelScheduledValues(this.ctx.currentTime),this.vca.gain.linearRampToValueAtTime(0,this.ctx.currentTime+this.ENV.release),setTimeout(function(){this.vca.gain.value=0,this.OSC1.stop(0),this.OSC2.stop(0),this.OSC3.stop(0),this.OSC1.disconnect(this.AMP1),this.OSC2.disconnect(this.AMP2),this.OSC3.disconnect(this.AMP3),this.AMP1.disconnect(this.vca),this.AMP2.disconnect(this.vca),this.AMP3.disconnect(this.vca)}.bind(this),1e3*this.ENV.release)}},{key:"applyPatch",value:function(e){for(var t in e)for(var n in e[t]){for(var r=this[t],o=n.split("."),a=o.length,i=0;a-1>i;i++){var s=o[i];r[s]||(r[s]={}),r=r[s]}r[o[a-1]]=e[t][n]}}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){(function(e){"use strict";var t=n(19)["default"];n(207);var r=n(141),o=t(r),a=n(102),i=t(a),s=n(16),u=(t(s),n(145)),c=t(u),l=n(82),p=(t(l),new o["default"]);i["default"].render(e.createElement("div",null,e.createElement(c["default"],{flux:p})),document.getElementById("container"))}).call(t,n(15))},function(e,t,n){(function(r){"use strict";var o=n(10)["default"],a=n(11)["default"],i=n(7)["default"],s=n(6)["default"],u=n(162)["default"],c=n(160)["default"],l=n(39)["default"],p=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0});var d=n(26),f=n(51),h=p(f),v=n(150),m=p(v),g=new m["default"],y=[65,87,83,69,68,70,84,71,89,72,85,74,75,79,76,80,186,222,221,220],E=48,_=function(e){function t(e){function n(){a._ai=a._ai%a._arp.length||0,a.state.arp.on&&(a._arp.length?(a.setKeys(u({},a._arp[a._ai],a._keys[[a._arp[a._ai]]])),a._ai=(a._ai+a.state.arp.mode)%a._arp.length||0):a.setKeys({})),setTimeout(n,a.state.arp.rate)}var r=this;s(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var a=this;this._keys={},this._ai=0,this._arp=[],this.state={transposition:0,keys:{},arp:{on:!1,mode:"OFF",rate:250},chord:{on:!1}};var i=e.getActionIds("keyboard");this.synthActions=e.getActions("synth"),this.register(i.KEY_UP,this.handleKeyUp),this.register(i.KEY_DOWN,this.handleKeyDown),this.register(i.PITCH_CHANGE,this.handlePitch),this.register(i.SET_ARP_MODE,this.setArpMode),this.register(i.SET_ARP_RATE,this.setArpRate),document.addEventListener("keydown",function(e){return(e.keyCode||e.which)&&r.handleKeyDown(y.indexOf(e.keyCode||e.which))}),document.addEventListener("keyup",function(e){return(e.keyCode||e.which)&&r.handleKeyUp(y.indexOf(e.keyCode||e.which))}),g.on("ON",function(e,t){return r.handleKeyDown(e,t,!0)}),g.on("OFF",function(e){return r.handleKeyUp(e,!0)}),n()}return a(t,e),i(t,[{key:"handleKeyDown",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?127:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(!(0>e)){var r=n?e:e+E+12*this.state.transposition;this.state.keys[r]||(this._keys[r]=t,this.processArp())}}},{key:"handleKeyUp",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(!(0>e)){var n=t?e:e+E+12*this.state.transposition;delete this._keys[n],this.processArp()}}},{key:"handlePitch",value:function(e){var t=Math.min(Math.max(this.state.transposition+e,-2),2);this._keys=t===this.state.transposition?this.state.keys:{},this.setState({transposition:t}),this.setKeys({})}},{key:"handleChord",value:function(){}},{key:"setArpMode",value:function(e){this.state.arp.on="OFF"!==e,this.state.arp.mode=e,this.setState(this.state)}},{key:"setArpRate",value:function(e){this.state.arp.rate=e,this.setState(this.state)}},{key:"processArp",value:function(){return this.state.arp.on?void(this._arp=c(this._keys)):this.setKeys(this._keys)}},{key:"setKeys",value:function(e){var t=c(this.state.keys).map(function(e){return+e}),n=c(e).map(function(e){return+e}),o=!0,a=!1,i=void 0;try{for(var s,u=l(r.difference(t,n));!(o=(s=u.next()).done);o=!0){var p=s.value;h["default"].noteOff(p)}}catch(d){a=!0,i=d}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw i}}var f=!0,v=!1,m=void 0;try{for(var g,y=l(r.difference(n,t));!(f=(g=y.next()).done);f=!0){var p=g.value;h["default"].noteOn(p,e[p])}}catch(d){v=!0,m=d}finally{try{!f&&y["return"]&&y["return"]()}finally{if(v)throw m}}this.setState({keys:r.extend({},e)})}},{key:"getKeys",value:function(){return c(this.state.keys)}}]),t}(d.Store);t["default"]=_,e.exports=t["default"]}).call(t,n(78))},function(e,t,n){"use strict";var r=n(10)["default"],o=n(11)["default"],a=n(7)["default"],i=n(6)["default"],s=n(52)["default"],u=n(19)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(26),l=n(51),p=u(l),d=n(101),f=u(d),h=n(149),v=u(h),m=localStorage.getItem("patches");m=m&&m.length?JSON.parse(m):["default"],localStorage.setItem("patches",JSON.stringify(m)),localStorage.setItem("patch_default",JSON.stringify(f["default"]));var g=function(e){function t(e){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.currentPatch=0;var n=e.getActionIds("synth");this.register(n.CONTROL_CHANGE,this.handleControlChange),this.register(n.SET_PATCH,this.setPatch),this.register(n.SAVE_PATCH,this.savePatch),this.register(n.DELETE_PATCH,this.deletePatch),this.register(n.SET_DESC,this.setDescription),this.state={tempo:128,notes:[],patch:f["default"],desc:""},p["default"].setPatch(this.state.patch)}return o(t,e),a(t,[{key:"handleControlChange",value:function(e){var t=s(e,3),n=t[0],r=t[1],o=t[2];this.state.patch[this.state.patch.voice.hasOwnProperty(n)?"voice":"global"][n][r]=o,p["default"].setPatch(this.state.patch),this.state.desc=v["default"][n][r](o),this.setState(this.state)}},{key:"setPatch",value:function(e){this.currentPatch=Math.min(Math.max(this.currentPatch+e,0),m.length-1);var t=JSON.parse(localStorage.getItem("patch_"+m[this.currentPatch]));p["default"].setPatch(t),this.setState({patch:t,desc:this.currentPatch+1+" - "+m[this.currentPatch]})}},{key:"savePatch",value:function(){var e=prompt("Preset name:");return e?m.indexOf(e)>=0?this.setState({desc:e+" is taken..."}):(m.push(e),localStorage.setItem("patches",JSON.stringify(m)),localStorage.setItem("patch_"+e,JSON.stringify(this.state.patch)),void this.setState({desc:"Saved "+e+"!"})):this.setState({desc:"Come on..."})}},{key:"deletePatch",value:function(){var e=m[this.currentPatch];if("default"===e)return this.setState({desc:"can't delete default"});localStorage.removeItem("patch_"+e),m.splice(this.currentPatch,1),localStorage.setItem("patches",JSON.stringify(m)),this.currentPatch=Math.min(Math.max(this.currentPatch-1,0),m.length-1);var t=JSON.parse(localStorage.getItem("patch_"+m[this.currentPatch]));p["default"].setPatch(t),this.setState({patch:t,desc:"Deleted "+e})}},{key:"setDescription",value:function(e){this.setState({desc:""+e})}}]),t}(c.Store);t["default"]=g,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n){return Math.max(e,Math.min(t,n))}function r(e){return{_:e,loadContentsOf:function(e){W=this._.gl,this._.loadContentsOf(e)},destroy:function(){W=this._.gl,this._.destroy()}}}function o(e){return r(K.fromElement(e))}function a(e,t){var n=W.UNSIGNED_BYTE;if(W.getExtension("OES_texture_float")&&W.getExtension("OES_texture_float_linear")){var r=new K(100,100,W.RGBA,W.FLOAT);try{r.drawTo(function(){n=W.FLOAT})}catch(o){}r.destroy()}this._.texture&&this._.texture.destroy(),this._.spareTexture&&this._.spareTexture.destroy(),this.width=e,this.height=t,this._.texture=new K(e,t,W.RGBA,n),this._.spareTexture=new K(e,t,W.RGBA,n),this._.extraTexture=this._.extraTexture||new K(0,0,W.RGBA,n),this._.flippedShader=this._.flippedShader||new q(null,"	        uniform sampler2D texture;	        varying vec2 texCoord;	        void main() {	            gl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));	        }	    "),this._.isInitialized=!0}function i(e,t,n){return this._.isInitialized&&e._.width==this.width&&e._.height==this.height||a.call(this,t?t:e._.width,n?n:e._.height),e._.use(),this._.texture.drawTo(function(){q.getDefaultShader().drawRect()}),this}function s(){return this._.texture.use(),this._.flippedShader.drawRect(),this}function u(e,t,n,r){(n||this._.texture).use(),this._.spareTexture.drawTo(function(){e.uniforms(t).drawRect()}),this._.spareTexture.swapWith(r||this._.texture)}function c(e){return e.parentNode.insertBefore(this,e),e.parentNode.removeChild(e),this}function l(){var e=new K(this._.texture.width,this._.texture.height,W.RGBA,W.UNSIGNED_BYTE);return this._.texture.use(),e.drawTo(function(){q.getDefaultShader().drawRect()}),r(e)}function p(){var e=this._.texture.width,t=this._.texture.height,n=new Uint8Array(e*t*4);return this._.texture.drawTo(function(){W.readPixels(0,0,e,t,W.RGBA,W.UNSIGNED_BYTE,n)}),n}function d(e){return function(){return W=this._.gl,e.apply(this,arguments)}}function f(e,t,n,r,o,a,i,s){var u=n-o,c=r-a,l=i-o,p=s-a,d=e-n+o-i,f=t-r+a-s,h=u*p-l*c,v=(d*p-l*f)/h,m=(u*f-d*c)/h;return[n-e+v*n,r-t+v*r,v,i-e+m*i,s-t+m*s,m,e,t,1]}function h(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],i=e[5],s=e[6],u=e[7],c=e[8],l=t*a*c-t*i*u-n*o*c+n*i*s+r*o*u-r*a*s;return[(a*c-i*u)/l,(r*u-n*c)/l,(n*i-r*a)/l,(i*s-o*c)/l,(t*c-r*s)/l,(r*o-t*i)/l,(o*u-a*s)/l,(n*s-t*u)/l,(t*a-n*o)/l]}function v(e,t){return[e[0]*t[0]+e[1]*t[3]+e[2]*t[6],e[0]*t[1]+e[1]*t[4]+e[2]*t[7],e[0]*t[2]+e[1]*t[5]+e[2]*t[8],e[3]*t[0]+e[4]*t[3]+e[5]*t[6],e[3]*t[1]+e[4]*t[4]+e[5]*t[7],e[3]*t[2]+e[4]*t[5]+e[5]*t[8],e[6]*t[0]+e[7]*t[3]+e[8]*t[6],e[6]*t[1]+e[7]*t[4]+e[8]*t[7],e[6]*t[2]+e[7]*t[5]+e[8]*t[8]]}function m(e){var t=e.length;this.xa=[],this.ya=[],this.u=[],this.y2=[],e.sort(function(e,t){return e[0]-t[0]});for(var n=0;t>n;n++)this.xa.push(e[n][0]),this.ya.push(e[n][1]);this.u[0]=0,this.y2[0]=0;for(var n=1;t-1>n;++n){var r=this.xa[n+1]-this.xa[n-1],o=(this.xa[n]-this.xa[n-1])/r,a=o*this.y2[n-1]+2;this.y2[n]=(o-1)/a;var i=(this.ya[n+1]-this.ya[n])/(this.xa[n+1]-this.xa[n])-(this.ya[n]-this.ya[n-1])/(this.xa[n]-this.xa[n-1]);this.u[n]=(6*i/r-o*this.u[n-1])/a}this.y2[t-1]=0;for(var n=t-2;n>=0;--n)this.y2[n]=this.y2[n]*this.y2[n+1]+this.u[n]}function g(e,t){return new q(null,e+"	    uniform sampler2D texture;	    uniform vec2 texSize;	    varying vec2 texCoord;	    void main() {	        vec2 coord = texCoord * texSize;	        "+t+"	        gl_FragColor = texture2D(texture, coord / texSize);	        vec2 clampedCoord = clamp(coord, vec2(0.0), texSize);	        if (coord != clampedCoord) {	            /* fade to transparent if we are outside the image */	            gl_FragColor.a *= max(0.0, 1.0 - length(coord - clampedCoord));	        }	    }")}function y(e,t){return W.brightnessContrast=W.brightnessContrast||new q(null,"	        uniform sampler2D texture;	        uniform float brightness;	        uniform float contrast;	        varying vec2 texCoord;	        void main() {	            vec4 color = texture2D(texture, texCoord);	            color.rgb += brightness;	            if (contrast > 0.0) {	                color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;	            } else {	                color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;	            }	            gl_FragColor = color;	        }	    "),u.call(this,W.brightnessContrast,{brightness:n(-1,e,1),contrast:n(-1,t,1)}),this}function E(e){for(var t=new m(e),r=[],o=0;256>o;o++)r.push(n(0,Math.floor(256*t.interpolate(o/255)),255));return r}function _(e,t,n){e=E(e),1==arguments.length?t=n=e:(t=E(t),n=E(n));for(var r=[],o=0;256>o;o++)r.splice(r.length,0,e[o],t[o],n[o],255);return this._.extraTexture.initFromBytes(256,1,r),this._.extraTexture.use(1),W.curves=W.curves||new q(null,"	        uniform sampler2D texture;	        uniform sampler2D map;	        varying vec2 texCoord;	        void main() {	            vec4 color = texture2D(texture, texCoord);	            color.r = texture2D(map, vec2(color.r)).r;	            color.g = texture2D(map, vec2(color.g)).g;	            color.b = texture2D(map, vec2(color.b)).b;	            gl_FragColor = color;	        }	    "),W.curves.textures({map:1}),u.call(this,W.curves,{}),this}function b(e){W.denoise=W.denoise||new q(null,"	        uniform sampler2D texture;	        uniform float exponent;	        uniform float strength;	        uniform vec2 texSize;	        varying vec2 texCoord;	        void main() {	            vec4 center = texture2D(texture, texCoord);	            vec4 color = vec4(0.0);	            float total = 0.0;	            for (float x = -4.0; x <= 4.0; x += 1.0) {	                for (float y = -4.0; y <= 4.0; y += 1.0) {	                    vec4 sample = texture2D(texture, texCoord + vec2(x, y) / texSize);	                    float weight = 1.0 - abs(dot(sample.rgb - center.rgb, vec3(0.25)));	                    weight = pow(weight, exponent);	                    color += sample * weight;	                    total += weight;	                }	            }	            gl_FragColor = color / total;	        }	    ");for(var t=0;2>t;t++)u.call(this,W.denoise,{exponent:Math.max(0,e),texSize:[this.width,this.height]});return this}function x(e,t){return W.hueSaturation=W.hueSaturation||new q(null,"	        uniform sampler2D texture;	        uniform float hue;	        uniform float saturation;	        varying vec2 texCoord;	        void main() {	            vec4 color = texture2D(texture, texCoord);	            	            /* hue adjustment, wolfram alpha: RotationTransform[angle, {1, 1, 1}][{x, y, z}] */	            float angle = hue * 3.14159265;	            float s = sin(angle), c = cos(angle);	            vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;	            float len = length(color.rgb);	            color.rgb = vec3(	                dot(color.rgb, weights.xyz),	                dot(color.rgb, weights.zxy),	                dot(color.rgb, weights.yzx)	            );	            	            /* saturation adjustment */	            float average = (color.r + color.g + color.b) / 3.0;	            if (saturation > 0.0) {	                color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));	            } else {	                color.rgb += (average - color.rgb) * (-saturation);	            }	            	            gl_FragColor = color;	        }	    "),u.call(this,W.hueSaturation,{hue:n(-1,e,1),saturation:n(-1,t,1)}),this}function N(e){return W.noise=W.noise||new q(null,"	        uniform sampler2D texture;	        uniform float amount;	        varying vec2 texCoord;	        float rand(vec2 co) {	            return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);	        }	        void main() {	            vec4 color = texture2D(texture, texCoord);	            	            float diff = (rand(texCoord) - 0.5) * amount;	            color.r += diff;	            color.g += diff;	            color.b += diff;	            	            gl_FragColor = color;	        }	    "),u.call(this,W.noise,{amount:n(0,e,1)}),this}function C(e){return W.sepia=W.sepia||new q(null,"	        uniform sampler2D texture;	        uniform float amount;	        varying vec2 texCoord;	        void main() {	            vec4 color = texture2D(texture, texCoord);	            float r = color.r;	            float g = color.g;	            float b = color.b;	            	            color.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));	            color.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));	            color.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));	            	            gl_FragColor = color;	        }	    "),u.call(this,W.sepia,{amount:n(0,e,1)}),this}function D(e,t){return W.unsharpMask=W.unsharpMask||new q(null,"	        uniform sampler2D blurredTexture;	        uniform sampler2D originalTexture;	        uniform float strength;	        uniform float threshold;	        varying vec2 texCoord;	        void main() {	            vec4 blurred = texture2D(blurredTexture, texCoord);	            vec4 original = texture2D(originalTexture, texCoord);	            gl_FragColor = mix(blurred, original, 1.0 + strength);	        }	    "),this._.extraTexture.ensureFormat(this._.texture),this._.texture.use(),this._.extraTexture.drawTo(function(){q.getDefaultShader().drawRect()}),this._.extraTexture.use(1),this.triangleBlur(e),W.unsharpMask.textures({originalTexture:1}),u.call(this,W.unsharpMask,{strength:t}),this._.extraTexture.unuse(1),this}function O(e){return W.vibrance=W.vibrance||new q(null,"	        uniform sampler2D texture;	        uniform float amount;	        varying vec2 texCoord;	        void main() {	            vec4 color = texture2D(texture, texCoord);	            float average = (color.r + color.g + color.b) / 3.0;	            float mx = max(color.r, max(color.g, color.b));	            float amt = (mx - average) * (-amount * 3.0);	            color.rgb = mix(color.rgb, vec3(mx), amt);	            gl_FragColor = color;	        }	    "),u.call(this,W.vibrance,{amount:n(-1,e,1)}),this}function w(e,t){return W.vignette=W.vignette||new q(null,"	        uniform sampler2D texture;	        uniform float size;	        uniform float amount;	        varying vec2 texCoord;	        void main() {	            vec4 color = texture2D(texture, texCoord);	            	            float dist = distance(texCoord, vec2(0.5, 0.5));	            color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));	            	            gl_FragColor = color;	        }	    "),u.call(this,W.vignette,{size:n(0,e,1),amount:n(0,t,1)}),this}function T(e,t,r){W.lensBlurPrePass=W.lensBlurPrePass||new q(null,"	        uniform sampler2D texture;	        uniform float power;	        varying vec2 texCoord;	        void main() {	            vec4 color = texture2D(texture, texCoord);	            color = pow(color, vec4(power));	            gl_FragColor = vec4(color);	        }	    ");var o="	        uniform sampler2D texture0;	        uniform sampler2D texture1;	        uniform vec2 delta0;	        uniform vec2 delta1;	        uniform float power;	        varying vec2 texCoord;	        "+H+"	        vec4 sample(vec2 delta) {	            /* randomize the lookup values to hide the fixed number of samples */	            float offset = random(vec3(delta, 151.7182), 0.0);	            	            vec4 color = vec4(0.0);	            float total = 0.0;	            for (float t = 0.0; t <= 30.0; t++) {	                float percent = (t + offset) / 30.0;	                color += texture2D(texture0, texCoord + delta * percent);	                total += 1.0;	            }	            return color / total;	        }	    ";W.lensBlur0=W.lensBlur0||new q(null,o+"	        void main() {	            gl_FragColor = sample(delta0);	        }	    "),W.lensBlur1=W.lensBlur1||new q(null,o+"	        void main() {	            gl_FragColor = (sample(delta0) + sample(delta1)) * 0.5;	        }	    "),W.lensBlur2=W.lensBlur2||new q(null,o+"	        void main() {	            vec4 color = (sample(delta0) + 2.0 * texture2D(texture1, texCoord)) / 3.0;	            gl_FragColor = pow(color, vec4(power));	        }	    ").textures({texture1:1});for(var a=[],i=0;3>i;i++){var s=r+i*Math.PI*2/3;a.push([e*Math.sin(s)/this.width,e*Math.cos(s)/this.height])}var c=Math.pow(10,n(-1,t,1));return u.call(this,W.lensBlurPrePass,{power:c}),this._.extraTexture.ensureFormat(this._.texture),u.call(this,W.lensBlur0,{delta0:a[0]},this._.texture,this._.extraTexture),u.call(this,W.lensBlur1,{delta0:a[1],delta1:a[2]},this._.extraTexture,this._.extraTexture),u.call(this,W.lensBlur0,{delta0:a[1]}),this._.extraTexture.use(1),u.call(this,W.lensBlur2,{power:1/c,delta0:a[2]}),this}function S(e,t,n,r,o,a){W.tiltShift=W.tiltShift||new q(null,"	        uniform sampler2D texture;	        uniform float blurRadius;	        uniform float gradientRadius;	        uniform vec2 start;	        uniform vec2 end;	        uniform vec2 delta;	        uniform vec2 texSize;	        varying vec2 texCoord;	        "+H+"	        void main() {	            vec4 color = vec4(0.0);	            float total = 0.0;	            	            /* randomize the lookup values to hide the fixed number of samples */	            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);	            	            vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));	            float radius = smoothstep(0.0, 1.0, abs(dot(texCoord * texSize - start, normal)) / gradientRadius) * blurRadius;	            for (float t = -30.0; t <= 30.0; t++) {	                float percent = (t + offset - 0.5) / 30.0;	                float weight = 1.0 - abs(percent);	                vec4 sample = texture2D(texture, texCoord + delta / texSize * percent * radius);	                	                /* switch to pre-multiplied alpha to correctly blur transparent images */	                sample.rgb *= sample.a;	                	                color += sample * weight;	                total += weight;	            }	            	            gl_FragColor = color / total;	            	            /* switch back from pre-multiplied alpha */	            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;	        }	    ");var i=n-e,s=r-t,c=Math.sqrt(i*i+s*s);return u.call(this,W.tiltShift,{blurRadius:o,gradientRadius:a,start:[e,t],end:[n,r],delta:[i/c,s/c],texSize:[this.width,this.height]}),u.call(this,W.tiltShift,{blurRadius:o,gradientRadius:a,start:[e,t],end:[n,r],delta:[-s/c,i/c],texSize:[this.width,this.height]}),this}function R(e){return W.triangleBlur=W.triangleBlur||new q(null,"	        uniform sampler2D texture;	        uniform vec2 delta;	        varying vec2 texCoord;	        "+H+"	        void main() {	            vec4 color = vec4(0.0);	            float total = 0.0;	            	            /* randomize the lookup values to hide the fixed number of samples */	            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);	            	            for (float t = -30.0; t <= 30.0; t++) {	                float percent = (t + offset - 0.5) / 30.0;	                float weight = 1.0 - abs(percent);	                vec4 sample = texture2D(texture, texCoord + delta * percent);	                	                /* switch to pre-multiplied alpha to correctly blur transparent images */	                sample.rgb *= sample.a;	                	                color += sample * weight;	                total += weight;	            }	            	            gl_FragColor = color / total;	            	            /* switch back from pre-multiplied alpha */	            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;	        }	    "),u.call(this,W.triangleBlur,{delta:[e/this.width,0]}),u.call(this,W.triangleBlur,{delta:[0,e/this.height]}),this}function A(e,t,n){return W.zoomBlur=W.zoomBlur||new q(null,"	        uniform sampler2D texture;	        uniform vec2 center;	        uniform float strength;	        uniform vec2 texSize;	        varying vec2 texCoord;	        "+H+"	        void main() {	            vec4 color = vec4(0.0);	            float total = 0.0;	            vec2 toCenter = center - texCoord * texSize;	            	            /* randomize the lookup values to hide the fixed number of samples */	            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);	            	            for (float t = 0.0; t <= 40.0; t++) {	                float percent = (t + offset) / 40.0;	                float weight = 4.0 * (percent - percent * percent);	                vec4 sample = texture2D(texture, texCoord + toCenter * percent * strength / texSize);	                	                /* switch to pre-multiplied alpha to correctly blur transparent images */	                sample.rgb *= sample.a;	                	                color += sample * weight;	                total += weight;	            }	            	            gl_FragColor = color / total;	            	            /* switch back from pre-multiplied alpha */	            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;	        }	    "),u.call(this,W.zoomBlur,{center:[e,t],strength:n,texSize:[this.width,this.height]}),this}function P(e,t,n,r){return W.colorHalftone=W.colorHalftone||new q(null,"	        uniform sampler2D texture;	        uniform vec2 center;	        uniform float angle;	        uniform float scale;	        uniform vec2 texSize;	        varying vec2 texCoord;	        	        float pattern(float angle) {	            float s = sin(angle), c = cos(angle);	            vec2 tex = texCoord * texSize - center;	            vec2 point = vec2(	                c * tex.x - s * tex.y,	                s * tex.x + c * tex.y	            ) * scale;	            return (sin(point.x) * sin(point.y)) * 4.0;	        }	        	        void main() {	            vec4 color = texture2D(texture, texCoord);	            vec3 cmy = 1.0 - color.rgb;	            float k = min(cmy.x, min(cmy.y, cmy.z));	            cmy = (cmy - k) / (1.0 - k);	            cmy = clamp(cmy * 10.0 - 3.0 + vec3(pattern(angle + 0.26179), pattern(angle + 1.30899), pattern(angle)), 0.0, 1.0);	            k = clamp(k * 10.0 - 5.0 + pattern(angle + 0.78539), 0.0, 1.0);	            gl_FragColor = vec4(1.0 - cmy - k, color.a);	        }	    "),
u.call(this,W.colorHalftone,{center:[e,t],angle:n,scale:Math.PI/r,texSize:[this.width,this.height]}),this}function M(e,t,n,r){return W.dotScreen=W.dotScreen||new q(null,"	        uniform sampler2D texture;	        uniform vec2 center;	        uniform float angle;	        uniform float scale;	        uniform vec2 texSize;	        varying vec2 texCoord;	        	        float pattern() {	            float s = sin(angle), c = cos(angle);	            vec2 tex = texCoord * texSize - center;	            vec2 point = vec2(	                c * tex.x - s * tex.y,	                s * tex.x + c * tex.y	            ) * scale;	            return (sin(point.x) * sin(point.y)) * 4.0;	        }	        	        void main() {	            vec4 color = texture2D(texture, texCoord);	            float average = (color.r + color.g + color.b) / 3.0;	            gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);	        }	    "),u.call(this,W.dotScreen,{center:[e,t],angle:n,scale:Math.PI/r,texSize:[this.width,this.height]}),this}function k(e){return W.edgeWork1=W.edgeWork1||new q(null,"	        uniform sampler2D texture;	        uniform vec2 delta;	        varying vec2 texCoord;	        "+H+"	        void main() {	            vec2 color = vec2(0.0);	            vec2 total = vec2(0.0);	            	            /* randomize the lookup values to hide the fixed number of samples */	            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);	            	            for (float t = -30.0; t <= 30.0; t++) {	                float percent = (t + offset - 0.5) / 30.0;	                float weight = 1.0 - abs(percent);	                vec3 sample = texture2D(texture, texCoord + delta * percent).rgb;	                float average = (sample.r + sample.g + sample.b) / 3.0;	                color.x += average * weight;	                total.x += weight;	                if (abs(t) < 15.0) {	                    weight = weight * 2.0 - 1.0;	                    color.y += average * weight;	                    total.y += weight;	                }	            }	            gl_FragColor = vec4(color / total, 0.0, 1.0);	        }	    "),W.edgeWork2=W.edgeWork2||new q(null,"	        uniform sampler2D texture;	        uniform vec2 delta;	        varying vec2 texCoord;	        "+H+"	        void main() {	            vec2 color = vec2(0.0);	            vec2 total = vec2(0.0);	            	            /* randomize the lookup values to hide the fixed number of samples */	            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);	            	            for (float t = -30.0; t <= 30.0; t++) {	                float percent = (t + offset - 0.5) / 30.0;	                float weight = 1.0 - abs(percent);	                vec2 sample = texture2D(texture, texCoord + delta * percent).xy;	                color.x += sample.x * weight;	                total.x += weight;	                if (abs(t) < 15.0) {	                    weight = weight * 2.0 - 1.0;	                    color.y += sample.y * weight;	                    total.y += weight;	                }	            }	            float c = clamp(10000.0 * (color.y / total.y - color.x / total.x) + 0.5, 0.0, 1.0);	            gl_FragColor = vec4(c, c, c, 1.0);	        }	    "),u.call(this,W.edgeWork1,{delta:[e/this.width,0]}),u.call(this,W.edgeWork2,{delta:[0,e/this.height]}),this}function I(e,t,n){return W.hexagonalPixelate=W.hexagonalPixelate||new q(null,"	        uniform sampler2D texture;	        uniform vec2 center;	        uniform float scale;	        uniform vec2 texSize;	        varying vec2 texCoord;	        void main() {	            vec2 tex = (texCoord * texSize - center) / scale;	            tex.y /= 0.866025404;	            tex.x -= tex.y * 0.5;	            	            vec2 a;	            if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) a = vec2(floor(tex.x), floor(tex.y));	            else a = vec2(ceil(tex.x), ceil(tex.y));	            vec2 b = vec2(ceil(tex.x), floor(tex.y));	            vec2 c = vec2(floor(tex.x), ceil(tex.y));	            	            vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);	            vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);	            vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);	            vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);	            	            float alen = length(TEX - A);	            float blen = length(TEX - B);	            float clen = length(TEX - C);	            	            vec2 choice;	            if (alen < blen) {	                if (alen < clen) choice = a;	                else choice = c;	            } else {	                if (blen < clen) choice = b;	                else choice = c;	            }	            	            choice.x += choice.y * 0.5;	            choice.y *= 0.866025404;	            choice *= scale / texSize;	            gl_FragColor = texture2D(texture, choice + center / texSize);	        }	    "),u.call(this,W.hexagonalPixelate,{center:[e,t],scale:n,texSize:[this.width,this.height]}),this}function V(e){return W.ink=W.ink||new q(null,"	        uniform sampler2D texture;	        uniform float strength;	        uniform vec2 texSize;	        varying vec2 texCoord;	        void main() {	            vec2 dx = vec2(1.0 / texSize.x, 0.0);	            vec2 dy = vec2(0.0, 1.0 / texSize.y);	            vec4 color = texture2D(texture, texCoord);	            float bigTotal = 0.0;	            float smallTotal = 0.0;	            vec3 bigAverage = vec3(0.0);	            vec3 smallAverage = vec3(0.0);	            for (float x = -2.0; x <= 2.0; x += 1.0) {	                for (float y = -2.0; y <= 2.0; y += 1.0) {	                    vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;	                    bigAverage += sample;	                    bigTotal += 1.0;	                    if (abs(x) + abs(y) < 2.0) {	                        smallAverage += sample;	                        smallTotal += 1.0;	                    }	                }	            }	            vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);	            gl_FragColor = vec4(color.rgb - dot(edge, edge) * strength * 100000.0, color.a);	        }	    "),u.call(this,W.ink,{strength:e*e*e*e*e,texSize:[this.width,this.height]}),this}function L(e,t,r,o){return W.bulgePinch=W.bulgePinch||g("	        uniform float radius;	        uniform float strength;	        uniform vec2 center;	    ","	        coord -= center;	        float distance = length(coord);	        if (distance < radius) {	            float percent = distance / radius;	            if (strength > 0.0) {	                coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);	            } else {	                coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);	            }	        }	        coord += center;	    "),u.call(this,W.bulgePinch,{radius:r,strength:n(-1,o,1),center:[e,t],texSize:[this.width,this.height]}),this}function F(e,t,n){if(W.matrixWarp=W.matrixWarp||g("	        uniform mat3 matrix;	        uniform bool useTextureSpace;	    ","	        if (useTextureSpace) coord = coord / texSize * 2.0 - 1.0;	        vec3 warp = matrix * vec3(coord, 1.0);	        coord = warp.xy / warp.z;	        if (useTextureSpace) coord = (coord * 0.5 + 0.5) * texSize;	    "),e=Array.prototype.concat.apply([],e),4==e.length)e=[e[0],e[1],0,e[2],e[3],0,0,0,1];else if(9!=e.length)throw"can only warp with 2x2 or 3x3 matrix";return u.call(this,W.matrixWarp,{matrix:t?h(e):e,texSize:[this.width,this.height],useTextureSpace:0|n}),this}function U(e,t){var n=f.apply(null,t),r=f.apply(null,e),o=v(h(n),r);return this.matrixWarp(o)}function j(e,t,n,r){return W.swirl=W.swirl||g("	        uniform float radius;	        uniform float angle;	        uniform vec2 center;	    ","	        coord -= center;	        float distance = length(coord);	        if (distance < radius) {	            float percent = (radius - distance) / radius;	            float theta = percent * percent * angle;	            float s = sin(theta);	            float c = cos(theta);	            coord = vec2(	                coord.x * c - coord.y * s,	                coord.x * s + coord.y * c	            );	        }	        coord += center;	    "),u.call(this,W.swirl,{radius:n,center:[e,t],angle:r,texSize:[this.width,this.height]}),this}Object.defineProperty(t,"__esModule",{value:!0});var B={};!function(){function e(e){if(!e.getExtension("OES_texture_float"))return!1;var t=e.createFramebuffer(),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var r=[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.FLOAT,new Float32Array(r));var a=e.createProgram(),i=e.createShader(e.VERTEX_SHADER),s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,"	      attribute vec2 vertex;	      void main() {	        gl_Position = vec4(vertex, 0.0, 1.0);	      }	    "),e.shaderSource(s,"	      uniform sampler2D texture;	      void main() {	        gl_FragColor = texture2D(texture, vec2(0.5));	      }	    "),e.compileShader(i),e.compileShader(s),e.attachShader(a,i),e.attachShader(a,s),e.linkProgram(a);var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0]),e.STREAM_DRAW),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0);var c=new Uint8Array(4);return e.useProgram(a),e.viewport(0,0,1,1),e.bindTexture(e.TEXTURE_2D,o),e.drawArrays(e.POINTS,0,1),e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,c),127===c[0]||128===c[0]}function t(){}function n(e){return void 0===e.$OES_texture_float_linear$&&Object.defineProperty(e,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new t}),e.$OES_texture_float_linear$}function r(e){return"OES_texture_float_linear"===e?n(this):s.call(this,e)}function o(){var e=u.call(this);return-1===e.indexOf("OES_texture_float_linear")&&e.push("OES_texture_float_linear"),e}try{var a=document.createElement("canvas").getContext("experimental-webgl")}catch(i){}if(a&&-1===a.getSupportedExtensions().indexOf("OES_texture_float_linear")&&e(a)){var s=WebGLRenderingContext.prototype.getExtension,u=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=r,WebGLRenderingContext.prototype.getSupportedExtensions=o}}();var W;B.canvas=function(){var e=document.createElement("canvas");try{W=e.getContext("experimental-webgl",{premultipliedAlpha:!1})}catch(t){W=null}if(!W)throw"This browser does not support WebGL";return e._={gl:W,isInitialized:!1,texture:null,spareTexture:null,flippedShader:null},e.texture=d(o),e.draw=d(i),e.update=d(s),e.replace=d(c),e.contents=d(l),e.getPixelArray=d(p),e.brightnessContrast=d(y),e.hexagonalPixelate=d(I),e.hueSaturation=d(x),e.colorHalftone=d(P),e.triangleBlur=d(R),e.unsharpMask=d(D),e.perspective=d(U),e.matrixWarp=d(F),e.bulgePinch=d(L),e.tiltShift=d(S),e.dotScreen=d(M),e.edgeWork=d(k),e.lensBlur=d(T),e.zoomBlur=d(A),e.noise=d(N),e.denoise=d(b),e.curves=d(_),e.swirl=d(j),e.ink=d(V),e.vignette=d(w),e.vibrance=d(O),e.sepia=d(C),e},B.splineInterpolate=E;var q=function(){function e(e){return"[object Array]"==Object.prototype.toString.call(e)}function t(e){return"[object Number]"==Object.prototype.toString.call(e)}function n(e,t){var n=W.createShader(e);if(W.shaderSource(n,t),W.compileShader(n),!W.getShaderParameter(n,W.COMPILE_STATUS))throw"compile error: "+W.getShaderInfoLog(n);return n}function r(e,t){if(this.vertexAttribute=null,this.texCoordAttribute=null,this.program=W.createProgram(),e=e||o,t=t||a,t="precision highp float;"+t,W.attachShader(this.program,n(W.VERTEX_SHADER,e)),W.attachShader(this.program,n(W.FRAGMENT_SHADER,t)),W.linkProgram(this.program),!W.getProgramParameter(this.program,W.LINK_STATUS))throw"link error: "+W.getProgramInfoLog(this.program)}var o="	    attribute vec2 vertex;	    attribute vec2 _texCoord;	    varying vec2 texCoord;	    void main() {	        texCoord = _texCoord;	        gl_Position = vec4(vertex * 2.0 - 1.0, 0.0, 1.0);	    }",a="	    uniform sampler2D texture;	    varying vec2 texCoord;	    void main() {	        gl_FragColor = texture2D(texture, texCoord);	    }";return r.prototype.destroy=function(){W.deleteProgram(this.program),this.program=null},r.prototype.uniforms=function(n){W.useProgram(this.program);for(var r in n)if(n.hasOwnProperty(r)){var o=W.getUniformLocation(this.program,r);if(null!==o){var a=n[r];if(e(a))switch(a.length){case 1:W.uniform1fv(o,new Float32Array(a));break;case 2:W.uniform2fv(o,new Float32Array(a));break;case 3:W.uniform3fv(o,new Float32Array(a));break;case 4:W.uniform4fv(o,new Float32Array(a));break;case 9:W.uniformMatrix3fv(o,!1,new Float32Array(a));break;case 16:W.uniformMatrix4fv(o,!1,new Float32Array(a));break;default:throw"dont't know how to load uniform \""+r+'" of length '+a.length}else{if(!t(a))throw'attempted to set uniform "'+r+'" to invalid value '+(a||"undefined").toString();W.uniform1f(o,a)}}}return this},r.prototype.textures=function(e){W.useProgram(this.program);for(var t in e)e.hasOwnProperty(t)&&W.uniform1i(W.getUniformLocation(this.program,t),e[t]);return this},r.prototype.drawRect=function(e,t,n,r){var o,a=W.getParameter(W.VIEWPORT);t=t!==o?(t-a[1])/a[3]:0,e=e!==o?(e-a[0])/a[2]:0,n=n!==o?(n-a[0])/a[2]:1,r=r!==o?(r-a[1])/a[3]:1,null==W.vertexBuffer&&(W.vertexBuffer=W.createBuffer()),W.bindBuffer(W.ARRAY_BUFFER,W.vertexBuffer),W.bufferData(W.ARRAY_BUFFER,new Float32Array([e,t,e,r,n,t,n,r]),W.STATIC_DRAW),null==W.texCoordBuffer&&(W.texCoordBuffer=W.createBuffer(),W.bindBuffer(W.ARRAY_BUFFER,W.texCoordBuffer),W.bufferData(W.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),W.STATIC_DRAW)),null==this.vertexAttribute&&(this.vertexAttribute=W.getAttribLocation(this.program,"vertex"),W.enableVertexAttribArray(this.vertexAttribute)),null==this.texCoordAttribute&&(this.texCoordAttribute=W.getAttribLocation(this.program,"_texCoord"),W.enableVertexAttribArray(this.texCoordAttribute)),W.useProgram(this.program),W.bindBuffer(W.ARRAY_BUFFER,W.vertexBuffer),W.vertexAttribPointer(this.vertexAttribute,2,W.FLOAT,!1,0,0),W.bindBuffer(W.ARRAY_BUFFER,W.texCoordBuffer),W.vertexAttribPointer(this.texCoordAttribute,2,W.FLOAT,!1,0,0),W.drawArrays(W.TRIANGLE_STRIP,0,4)},r.getDefaultShader=function(){return W.defaultShader=W.defaultShader||new r,W.defaultShader},r}();m.prototype.interpolate=function(e){for(var t=this.ya.length,n=0,r=t-1;r-n>1;){var o=r+n>>1;this.xa[o]>e?r=o:n=o}var a=this.xa[r]-this.xa[n],i=(this.xa[r]-e)/a,s=(e-this.xa[n])/a;return i*this.ya[n]+s*this.ya[r]+((i*i*i-i)*this.y2[n]+(s*s*s-s)*this.y2[r])*(a*a)/6};var K=function(){function e(e,t,n,r){this.gl=W,this.id=W.createTexture(),this.width=e,this.height=t,this.format=n,this.type=r,W.bindTexture(W.TEXTURE_2D,this.id),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE),e&&t&&W.texImage2D(W.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null)}function t(e){null==n&&(n=document.createElement("canvas")),n.width=e.width,n.height=e.height;var t=n.getContext("2d");return t.clearRect(0,0,n.width,n.height),t}e.fromElement=function(t){var n=new e(0,0,W.RGBA,W.UNSIGNED_BYTE);return n.loadContentsOf(t),n},e.prototype.loadContentsOf=function(e){this.width=e.width||e.videoWidth,this.height=e.height||e.videoHeight,W.bindTexture(W.TEXTURE_2D,this.id),W.texImage2D(W.TEXTURE_2D,0,this.format,this.format,this.type,e)},e.prototype.initFromBytes=function(e,t,n){this.width=e,this.height=t,this.format=W.RGBA,this.type=W.UNSIGNED_BYTE,W.bindTexture(W.TEXTURE_2D,this.id),W.texImage2D(W.TEXTURE_2D,0,W.RGBA,e,t,0,W.RGBA,this.type,new Uint8Array(n))},e.prototype.destroy=function(){W.deleteTexture(this.id),this.id=null},e.prototype.use=function(e){W.activeTexture(W.TEXTURE0+(e||0)),W.bindTexture(W.TEXTURE_2D,this.id)},e.prototype.unuse=function(e){W.activeTexture(W.TEXTURE0+(e||0)),W.bindTexture(W.TEXTURE_2D,null)},e.prototype.ensureFormat=function(e,t,n,r){if(1==arguments.length){var o=arguments[0];e=o.width,t=o.height,n=o.format,r=o.type}(e!=this.width||t!=this.height||n!=this.format||r!=this.type)&&(this.width=e,this.height=t,this.format=n,this.type=r,W.bindTexture(W.TEXTURE_2D,this.id),W.texImage2D(W.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null))},e.prototype.drawTo=function(e){if(W.framebuffer=W.framebuffer||W.createFramebuffer(),W.bindFramebuffer(W.FRAMEBUFFER,W.framebuffer),W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,this.id,0),W.checkFramebufferStatus(W.FRAMEBUFFER)!==W.FRAMEBUFFER_COMPLETE)throw new Error("incomplete framebuffer");W.viewport(0,0,this.width,this.height),e(),W.bindFramebuffer(W.FRAMEBUFFER,null)};var n=null;return e.prototype.fillUsingCanvas=function(e){return e(t(this)),this.format=W.RGBA,this.type=W.UNSIGNED_BYTE,W.bindTexture(W.TEXTURE_2D,this.id),W.texImage2D(W.TEXTURE_2D,0,W.RGBA,W.RGBA,W.UNSIGNED_BYTE,n),this},e.prototype.toImage=function(e){this.use(),q.getDefaultShader().drawRect();var r=this.width*this.height*4,o=new Uint8Array(r),a=t(this),i=a.createImageData(this.width,this.height);W.readPixels(0,0,this.width,this.height,W.RGBA,W.UNSIGNED_BYTE,o);for(var s=0;r>s;s++)i.data[s]=o[s];a.putImageData(i,0,0),e.src=n.toDataURL()},e.prototype.swapWith=function(e){var t;t=e.id,e.id=this.id,this.id=t,t=e.width,e.width=this.width,this.width=t,t=e.height,e.height=this.height,this.height=t,t=e.format,e.format=this.format,this.format=t},e}(),H="	    float random(vec3 scale, float seed) {	        /* use the fragment position for a different seed per-pixel */	        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);	    }	";t["default"]=B,e.exports=t["default"]},function(e,t,n){e.exports={"default":n(166),__esModule:!0}},function(e,t,n){e.exports={"default":n(167),__esModule:!0}},function(e,t,n){e.exports={"default":n(168),__esModule:!0}},function(e,t,n){e.exports={"default":n(170),__esModule:!0}},function(e,t,n){e.exports={"default":n(171),__esModule:!0}},function(e,t,n){e.exports={"default":n(172),__esModule:!0}},function(e,t,n){"use strict";var r=n(84)["default"];t["default"]=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.__esModule=!0},function(e,t,n){"use strict";var r=n(157)["default"];t["default"]=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.__esModule=!0},function(e,t,n){n(57),n(193),e.exports=n(20).Array.from},function(e,t,n){n(99),n(57),e.exports=n(191)},function(e,t,n){n(99),n(57),e.exports=n(192)},function(e,t,n){n(195),e.exports=n(20).Object.assign},function(e,t,n){var r=n(22);e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(22);e.exports=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t,n){var r=n(22);n(196),e.exports=function(e,t){return r.getDesc(e,t)}},function(e,t,n){n(197),e.exports=n(20).Object.keys},function(e,t,n){n(198),e.exports=n(20).Object.setPrototypeOf},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(56),o=n(90),a=n(175);e.exports=Object.assign||function(e,t){for(var n=r(e),i=arguments.length,s=1;i>s;)for(var u,c=o(arguments[s++]),l=a(c),p=l.length,d=0;p>d;)n[u=l[d++]]=c[u];return n}},function(e,t,n){var r=n(22);e.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var o,a=n(e),i=r.isEnum,s=0;a.length>s;)i.call(e,o=a[s++])&&t.push(o);return t}},function(e,t,n){var r=n(31),o=n(23)("iterator");e.exports=function(e){return(r.Array||Array.prototype[o])===e}},function(e,t){e.exports="keys"in[]&&!("next"in[].keys())},function(e,t,n){var r=n(53);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e["return"];throw void 0!==i&&r(i.call(e)),a}}},function(e,t,n){"use strict";var r=n(22),o={};n(40)(o,n(23)("iterator"),function(){return this}),e.exports=function(e,t,a){e.prototype=r.create(o,{next:n(94)(1,a)}),n(95)(e,t+" Iterator")}},function(e,t,n){var r=n(23)("iterator"),o=!1;try{var a=[7][r]();a["return"]=function(){o=!0},Array.from(a,function(){throw 2})}catch(i){}e.exports=function(e){if(!o)return!1;var t=!1;try{var n=[7],a=n[r]();a.next=function(){t=!0},n[r]=function(){return a},e(n)}catch(i){}return t}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=!0},function(e,t,n){e.exports=n(40)},function(e,t,n){var r=n(22).getDesc,o=n(91),a=n(53),i=function(e,t){if(a(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t){try{t=n(87)(Function.call,r(Object.prototype,"__proto__").set,2),t({},[])}catch(o){e=!0}return function(n,r){return i(n,r),e?n.__proto__=r:t(n,r),n}}():void 0),check:i}},function(e,t,n){var r=n(55),o="__core-js_shared__",a=r[o]||(r[o]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,n){var r=n(96),o=n(54);e.exports=function(e){return function(t,n){var a,i,s=String(o(t)),u=r(n),c=s.length;return 0>u||u>=c?e?"":void 0:(a=s.charCodeAt(u),55296>a||a>56319||u+1===c||(i=s.charCodeAt(u+1))<56320||i>57343?e?s.charAt(u):a:e?s.slice(u,u+2):(a-55296<<10)+(i-56320)+65536)}}},function(e,t,n){e.exports=!n(88)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(96),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(53),o=n(98);e.exports=n(20).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(85),o=n(23)("iterator"),a=n(31);e.exports=n(20).isIterable=function(e){var t=Object(e);return o in t||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){"use strict";var r=n(87),o=n(36),a=n(56),i=n(178),s=n(176),u=n(188),c=n(98);o(o.S+o.F*!n(180)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,l,p=a(e),d="function"==typeof this?this:Array,f=arguments[1],h=void 0!==f,v=0,m=c(p);if(h&&(f=r(f,arguments[2],2)),void 0==m||d==Array&&s(m))for(n=new d(t=u(p.length));t>v;v++)n[v]=h?f(p[v],v):p[v];else for(l=m.call(p),n=new d;!(o=l.next()).done;v++)n[v]=h?i(l,f,[o.value,v],!0):o.value;return n.length=v,n}})},function(e,t,n){"use strict";var r=n(190),o=n(181),a=n(31),i=n(97);n(92)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(36);r(r.S,"Object",{assign:n(174)})},function(e,t,n){var r=n(97);n(93)("getOwnPropertyDescriptor",function(e){return function(t,n){return e(r(t),n)}})},function(e,t,n){var r=n(56);n(93)("keys",function(e){return function(t){return e(r(t))}})},function(e,t,n){var r=n(36);r(r.S,"Object",{setPrototypeOf:n(184).set})},function(e,t){},199,199,199,199,199,199,199,199,,,function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=n(103),u=r(s),c=n(211),l=n(41),p=r(l),d=function(e){function t(n,r){a(this,t),e.call(this,n,r),this.initialize(),this.state=this.connectToStores(n.connectToStores,n.stateGetter),this.wrapChild=this.wrapChild.bind(this)}return i(t,e),t.prototype.wrapChild=function(e){return u.addons.cloneWithProps(e,this.getChildProps())},t.prototype.getChildProps=function(){var e=this.props,t=(e.children,e.render,e.connectToStores,e.stateGetter,e.flux,o(e,["children","render","connectToStores","stateGetter","flux"]));return p({flux:this.getFlux()},this.state,t)},t.prototype.render=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return t.toString()},t}(function(){var e=this.props,t=e.children,n=e.render;if("function"==typeof n)return n(this.getChildProps(),this.getFlux());if(!t)return null;if(Array.isArray(t))return u.createElement("span",null,u.Children.map(t,this.wrapChild));var r=t;return this.wrapChild(r)}),t}(u.Component);p(d.prototype,c.instanceMethods),p(d,c.staticProperties),e.exports=d},function(e,t,n){"use strict";function r(e,t,n){return function(){var e=n(t,this.props);this.setState(e)}.bind(e)}function o(e){return e.getStateAsObject()}function a(e){return e.reduce(function(e,t){return p(e,t.getStateAsObject())},{})}var i=function(e){return e&&e.__esModule?e["default"]:e};t.__esModule=!0;var s=n(15),u=i(s),c=n(26),l=n(41),p=i(l),d={getChildContext:function(){var e=this.getFlux();return e?{flux:e}:{}},getFlux:function(){return this.props.flux||this.context.flux},initialize:function(){if(this._fluxStateGetters=[],this._fluxListeners={},this.flux=this.getFlux(),!(this.flux instanceof c.Flux))throw new Error("fluxMixin: Could not find Flux instance. Ensure that your component has either `this.context.flux` or `this.props.flux`.")},componentWillUnmount:function(){var e=this.getFlux();for(var t in this._fluxListeners)if(this._fluxListeners.hasOwnProperty(t)){var n=e.getStore(t);if("undefined"!=typeof n){var r=this._fluxListeners[t];n.removeListener("change",r)}}},componentWillReceiveProps:function(e){this.updateStores(e)},updateStores:function(){var e=void 0===arguments[0]?this.props:arguments[0],t=this.getStoreState(e);this.setState(t)},getStoreState:function(){var e=void 0===arguments[0]?this.props:arguments[0];return this._fluxStateGetters.reduce(function(t,n){var r=n.getter,o=n.stores,a=r(o,e);return p(t,a)},{})},connectToStores:function(){var e=this,t=void 0===arguments[0]?{}:arguments[0],n=void 0===arguments[1]?null:arguments[1],i=this.getFlux(),s=function(e){var t=i.getStore(e);if("undefined"==typeof t)throw new Error("connectToStores(): Store with key '"+e+"' does not exist.");return t};if("string"==typeof t){var u=t,c=s(u),l=n||o;this._fluxStateGetters.push({stores:c,getter:l});var p=r(this,c,l);c.addListener("change",p),this._fluxListeners[u]=p}else if(Array.isArray(t))!function(){var o=t.map(s),i=n||a;e._fluxStateGetters.push({stores:o,getter:i});var u=r(e,o,i);t.forEach(function(t,n){var r=o[n];r.addListener("change",u),e._fluxListeners[t]=u})}();else for(var u in t){var c=s(u),l=t[u]||o;this._fluxStateGetters.push({stores:c,getter:l});var p=r(this,c,l);c.addListener("change",p),this._fluxListeners[u]=p}return this.getStoreState()}},f={contextTypes:{flux:s.PropTypes.instanceOf(c.Flux)},childContextTypes:{flux:s.PropTypes.instanceOf(c.Flux)},propTypes:{connectToStores:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.arrayOf(s.PropTypes.string),s.PropTypes.object]),flux:s.PropTypes.instanceOf(c.Flux),render:u.PropTypes.func,stateGetter:u.PropTypes.func}};t.instanceMethods=d,t.staticProperties=f},,,,,function(e,t){e.exports={left:[[{label:"LFO",controls:{LFO:{"frequency.value":{type:"Knob",label:"rate",min:1,max:8,jump:.05,ticks:5}},LFOAMPGAIN:{"gain.value":{type:"Knob",label:"amp",min:0,max:.75,jump:.05,ticks:5}},LFOFLTGAIN:{"gain.value":{type:"Knob",label:"filter",min:0,max:1e3,jump:10,ticks:5}}}}],[{label:"OSC1",controls:{OSC1:{type:{type:"Knob",label:"waveform",values:["sine","square","sawtooth","triangle"]},"detune.value":{type:"Knob",label:"detune",min:0,max:100,ticks:5}},AMP1:{"gain.value":{type:"Knob",label:"amp",min:0,max:1,jump:.05,ticks:5}}}}],[{label:"OSC2",controls:{OSC2:{type:{type:"Knob",label:"waveform",values:["sine","square","sawtooth","triangle"]},"detune.value":{type:"Knob",label:"detune",min:0,max:100,ticks:5}},AMP2:{"gain.value":{type:"Knob",label:"amp",min:0,max:1,jump:.05,ticks:5}}}}],[{label:"OSC3",controls:{OSC3:{type:{type:"Knob",label:"waveform",values:["sine","square","sawtooth","triangle"]},"detune.value":{type:"Knob",label:"detune",min:0,max:100,ticks:5}},AMP3:{"gain.value":{type:"Knob",label:"amp",min:0,max:1,jump:.05,ticks:5}}}}]],center:[[{controls:{ENV:{attack:{type:"Knob",label:"attack",min:0,max:1,jump:.05,ticks:5}}}}],[{controls:{ENV:{decay:{type:"Knob",label:"decay",min:0,max:1,jump:.05,ticks:5}}}}],[{controls:{ENV:{sustain:{type:"Knob",label:"sustain",min:0,max:1,jump:.05,ticks:5}}}}],[{controls:{ENV:{release:{type:"Knob",label:"release",min:0,max:1,jump:.05,ticks:5}}}}]],right:[[{label:"FILTER",controls:{FLT:{"frequency.value":{type:"Knob",label:"cutoff",min:0,max:5e3,jump:100,ticks:5},"Q.value":{type:"Knob",label:"Q",min:0,max:15,ticks:5},type:{type:"Switch",label:"mode",values:["highpass","lowpass"],on:"HP",off:"LP"}}}}],[{label:"DIST.",controls:{DIST:{setCurve:{type:"Knob",min:0,max:40,ticks:4}}}},{label:"REVERB",controls:{RVRB:{setReverb:{type:"Knob",label:"response",min:1,max:90,ticks:5},mixReverb:{type:"Knob",label:"mix",min:0,max:1,jump:.05,ticks:5}}}}]],extra:[[{label:"VOCODER",controls:{VCDR:{enableVocoder:{type:"Switch",values:[!0,!1],on:"ON",off:"OFF"}}}}],[{label:" ",controls:{VCDR:{"filter.gain.value":{label:"fric.",type:"Knob",min:0,max:1,jump:.05,ticks:5}}}}]]}}]);
//# sourceMappingURL=bundle.js.map